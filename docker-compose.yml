version: '3.8'

services:
  discord-bot:
    build: .
    container_name: llm-discord-bot
    restart: unless-stopped
    env_file:
      - .env
    environment:
      - DISCORD_TOKEN=${DISCORD_TOKEN}
      - PLATFORM=${PLATFORM:-google}
      - GOOGLE_API_KEY=${GOOGLE_API_KEY}
      - OPENAI_API_KEY=${OPENAI_API_KEY}
      - OPENAI_BASE_URL=${OPENAI_BASE_URL}
      - MODEL=${MODEL:-gemini-2.0-flash-exp}
      - CHANNEL_HISTORY_LIMIT=${CHANNEL_HISTORY_LIMIT:-50}
      - REPLY_CHAIN_LIMIT=${REPLY_CHAIN_LIMIT:-50}
      - ENABLE_WEB_SEARCH=${ENABLE_WEB_SEARCH:-true}
      - SEARCH_PROVIDER=${SEARCH_PROVIDER:-tavily}
      - TAVILY_API_KEY=${TAVILY_API_KEY}
